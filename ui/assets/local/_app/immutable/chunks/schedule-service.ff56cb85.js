import{S as E,b as v,a as S,e as g,f as T,z as q,g as f,n as P,h as C,j as h,k as m,N as y,U as p,m as A,C as I,p as D,q as F,D as H,u as b,E as j,F as x}from"./index.9b814669.js";import{C as N}from"./code-block.6ddce6de.js";import{s as r}from"./parse-with-big-int.0036a80a.js";import{r as i,a as u}from"./route-for-api.5de7e4eb.js";import{v as d}from"./toaster.61334268.js";function k(a){let t,n,c,o;return n=new N({props:{copyable:!0,inline:a[2],testId:"schedule-calendar",language:"json",content:r(a[0]||a[1])}}),{c(){t=A("div"),I(n.$$.fragment),this.h()},l(e){t=D(e,"DIV",{class:!0});var s=F(t);H(n.$$.fragment,s),s.forEach(m),this.h()},h(){b(t,"class",c="flex flex-col "+a[3].class)},m(e,s){T(e,t,s),j(n,t,null),o=!0},p(e,s){const l={};s&4&&(l.inline=e[2]),s&3&&(l.content=r(e[0]||e[1])),n.$set(l),(!o||s&8&&c!==(c="flex flex-col "+e[3].class))&&b(t,"class",c)},i(e){o||(h(n.$$.fragment,e),o=!0)},o(e){f(n.$$.fragment,e),o=!1},d(e){e&&m(t),x(n)}}}function O(a){let t=[a[0],a[1]],n,c,o=k(a);return{c(){o.c(),n=g()},l(e){o.l(e),n=g()},m(e,s){o.m(e,s),T(e,n,s),c=!0},p(e,[s]){s&3&&S(t,t=[e[0],e[1]])?(q(),f(o,1,1,P),C(),o=k(e),o.c(),h(o,1),o.m(n.parentNode,n)):o.p(e,s)},i(e){c||(h(o),c=!0)},o(e){f(o),c=!1},d(e){e&&m(n),o.d(e)}}}function w(a,t,n){let{calendar:c=void 0}=t,{interval:o=void 0}=t,{inline:e=!1}=t;return a.$$set=s=>{n(3,t=y(y({},t),p(s))),"calendar"in s&&n(0,c=s.calendar),"interval"in s&&n(1,o=s.interval),"inline"in s&&n(2,e=s.inline)},t=p(t),[c,o,e,t]}class W extends E{constructor(t){super(),v(this,t,w,O,S,{calendar:0,interval:1,inline:2})}}const G=async(a,t=fetch)=>{let n="";const c=l=>{var _;return n=((_=l==null?void 0:l.body)==null?void 0:_.message)??`Error fetching schedules: ${l.status}: ${l.statusText}`},o=i("schedules",{namespace:a}),{schedules:e,nextPageToken:s}=await u(o,{params:{},onError:c,request:t})??{schedules:[],nextPageToken:""};return{schedules:e,nextPageToken:String(s),error:n}};async function J(a,t=fetch){const n=i("schedule",a);return u(n,{request:t})}async function K(a,t=fetch){const n=i("schedule.delete",a);return u(n,{request:t,options:{method:"DELETE"}})}async function M({namespace:a,body:t}){let n="";const c=s=>{var l;return n=((l=s==null?void 0:s.body)==null?void 0:l.message)??`Error creating schedule: ${s.status}: ${s.statusText}`},o=i("schedules",{namespace:a}),{conflictToken:e}=await u(o,{options:{method:"POST",body:r({request_id:d(),...t})},onError:c});return{conflictToken:e,error:n}}async function Q({namespace:a,scheduleId:t,body:n}){let c="";const o=s=>{var l;return c=((l=s==null?void 0:s.body)==null?void 0:l.message)??`Error editing schedule: ${s.status}: ${s.statusText}`},e=i("schedule",{namespace:a,scheduleId:t});return await u(e,{options:{method:"POST",body:r({request_id:d(),...n})},onError:o}),{error:c}}async function R({namespace:a,scheduleId:t,reason:n}){const c={patch:{pause:n}},o=i("schedule",{namespace:a,scheduleId:t});return await u(o,{options:{method:"PATCH",body:r({...c,request_id:d()})},onError:e=>console.error(e)})}async function X({namespace:a,scheduleId:t,reason:n}){const c={patch:{unpause:n}},o=i("schedule",{namespace:a,scheduleId:t});return await u(o,{options:{method:"PATCH",body:r({...c,request_id:d()})}})}async function Y({namespace:a,scheduleId:t,overlapPolicy:n}){const c={patch:{triggerImmediately:{overlapPolicy:n}}},o=i("schedule",{namespace:a,scheduleId:t});return await u(o,{options:{method:"PATCH",body:r({...c,request_id:d()})}})}export{W as S,J as a,M as c,K as d,Q as e,G as f,R as p,Y as t,X as u};
