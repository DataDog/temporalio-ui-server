import{s as C}from"./settings.97ab587b.js";import{r as U,a as T,g as y}from"./route-for-api.919d60fd.js";function I(){return{}.VITE_TEMPORAL_UI_BUILD_TARGET??null}const k=/(tmprl\.cloud|tmprl-test\.cloud)$/,N=async(E=fetch)=>{var o,c,d,u,i,f,w,m,h,A,b,D;const v=U("settings"),r=await T(v,{request:E}),a=I(),l={auth:{enabled:!!((o=r==null?void 0:r.Auth)!=null&&o.Enabled),flow:(c=r==null?void 0:r.Auth)==null?void 0:c.Flow,providerUrl:(d=r==null?void 0:r.Auth)==null?void 0:d.ProviderURL,issuerUrl:(u=r==null?void 0:r.Auth)==null?void 0:u.IssuerURL,authorizationUrl:(i=r==null?void 0:r.Auth)==null?void 0:i.AuthorizationURL,clientId:(f=r==null?void 0:r.Auth)==null?void 0:f.ClientID,scopes:(w=r==null?void 0:r.Auth)==null?void 0:w.Scopes,options:(m=r==null?void 0:r.Auth)==null?void 0:m.Options},baseUrl:y(),codec:{endpoint:(h=r==null?void 0:r.Codec)==null?void 0:h.Endpoint,passAccessToken:(A=r==null?void 0:r.Codec)==null?void 0:A.PassAccessToken,includeCredentials:(b=r==null?void 0:r.Codec)==null?void 0:b.IncludeCredentials,decodeEventHistoryDownload:(D=r==null?void 0:r.Codec)==null?void 0:D.DecodeEventHistoryDownload},defaultNamespace:(r==null?void 0:r.DefaultNamespace)||"default",disableWriteActions:!!(r!=null&&r.DisableWriteActions)||!1,workflowTerminateDisabled:!!(r!=null&&r.WorkflowTerminateDisabled),workflowCancelDisabled:!!(r!=null&&r.WorkflowCancelDisabled),workflowSignalDisabled:!!(r!=null&&r.WorkflowSignalDisabled),workflowResetDisabled:!!(r!=null&&r.WorkflowResetDisabled),batchActionsDisabled:!!(r!=null&&r.BatchActionsDisabled),hideWorkflowQueryErrors:!!(r!=null&&r.HideWorkflowQueryErrors),showTemporalSystemNamespace:r==null?void 0:r.ShowTemporalSystemNamespace,notifyOnNewVersion:r==null?void 0:r.NotifyOnNewVersion,feedbackURL:r==null?void 0:r.FeedbackURL,runtimeEnvironment:{get isCloud(){return a?a==="cloud":k.test(window.location.hostname)},get isLocal(){return a?a==="local":k.test(window.location.hostname)},envOverride:Boolean(a)},version:r==null?void 0:r.Version};return C.set(l),l};export{N as f,k as i};
