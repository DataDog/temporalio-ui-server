import{s as v}from"./settings.97ab587b.js";import{r as T,a as y,g as I}from"./route-for-api.35e63727.js";function L(){return{}.VITE_TEMPORAL_UI_BUILD_TARGET??null}const U=/(tmprl\.cloud|tmprl-test\.cloud)$/,O=async(C=fetch)=>{var o,c,d,u,i,f,w,m,h,A,b,D,k;const E=T("settings"),r=await y(E,{request:C}),a=L(),l={auth:{enabled:!!((o=r==null?void 0:r.Auth)!=null&&o.Enabled),flow:(c=r==null?void 0:r.Auth)==null?void 0:c.Flow,providerUrl:(d=r==null?void 0:r.Auth)==null?void 0:d.ProviderURL,issuerUrl:(u=r==null?void 0:r.Auth)==null?void 0:u.IssuerURL,authorizationUrl:(i=r==null?void 0:r.Auth)==null?void 0:i.AuthorizationURL,clientId:(f=r==null?void 0:r.Auth)==null?void 0:f.ClientID,callbackUrl:(w=r==null?void 0:r.Auth)==null?void 0:w.CallbackURL,scopes:(m=r==null?void 0:r.Auth)==null?void 0:m.Scopes,options:(h=r==null?void 0:r.Auth)==null?void 0:h.Options},baseUrl:I(),codec:{endpoint:(A=r==null?void 0:r.Codec)==null?void 0:A.Endpoint,passAccessToken:(b=r==null?void 0:r.Codec)==null?void 0:b.PassAccessToken,includeCredentials:(D=r==null?void 0:r.Codec)==null?void 0:D.IncludeCredentials,decodeEventHistoryDownload:(k=r==null?void 0:r.Codec)==null?void 0:k.DecodeEventHistoryDownload},defaultNamespace:(r==null?void 0:r.DefaultNamespace)||"default",disableWriteActions:!!(r!=null&&r.DisableWriteActions)||!1,workflowTerminateDisabled:!!(r!=null&&r.WorkflowTerminateDisabled),workflowCancelDisabled:!!(r!=null&&r.WorkflowCancelDisabled),workflowSignalDisabled:!!(r!=null&&r.WorkflowSignalDisabled),workflowResetDisabled:!!(r!=null&&r.WorkflowResetDisabled),batchActionsDisabled:!!(r!=null&&r.BatchActionsDisabled),hideWorkflowQueryErrors:!!(r!=null&&r.HideWorkflowQueryErrors),showTemporalSystemNamespace:r==null?void 0:r.ShowTemporalSystemNamespace,notifyOnNewVersion:r==null?void 0:r.NotifyOnNewVersion,feedbackURL:r==null?void 0:r.FeedbackURL,runtimeEnvironment:{get isCloud(){return a?a==="cloud":U.test(window.location.hostname)},get isLocal(){return a?a==="local":U.test(window.location.hostname)},envOverride:Boolean(a)},version:r==null?void 0:r.Version};return v.set(l),l};export{O as f,U as i};
