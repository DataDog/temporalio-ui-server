import{s as me,e as q,t as M,a as O,b as B,d as R,f as Y,g as E,h as W,j as w,B as z,W as be,k as Z,l as k,X as ve,m as ne,D as Ye,n as ae,E as Ze,p as ze,u as Fe,q as Ge,r as Je,H as oe,S as le,T as se,v as de,x as ke,c as x,Y as Ke,ac as Qe,Z as Ue,w as y}from"./scheduler.LRpOgQOC.js";import{S as pe,i as ge,t as N,g as Pe,b as j,e as je,f as ie,c as G,a as J,m as K,d as Q,h as ye}from"./index.dE1eZLcR.js";import{T as we}from"./toggle-switch.C3rOFOTl.js";import{t as D}from"./translate.HrioCK44.js";import{o as Ee,i as Ce,p as Te,c as De,v as $e,d as xe}from"./data-encoder-config.-xH6v_jV.js";import{r as Ve}from"./workflow-run.mO9kORNi.js";import{d as et}from"./menu.8mfw8Ixm.js";import{L as tt}from"./link.CLVBluN7.js";import{B as Ae}from"./button.pVuXImN-.js";import{A as nt}from"./accordion.9JQiLpiE.js";import{p as lt}from"./stores.rCfWcBVM.js";import{a as st}from"./index.R3eqKFGb.js";import{w as Oe}from"./entry.AriZcc98.js";import{R as it,a as Se}from"./radio-input.-2Ch2Lq2.js";const at=l=>({}),Le=l=>({});function He(l){let n,e;return{c(){n=q("p"),e=M(l[11]),this.h()},l(t){n=B(t,"P",{class:!0});var s=R(n);e=Y(s,l[11]),s.forEach(E),this.h()},h(){w(n,"class","pb-2 text-sm")},m(t,s){Z(t,n,s),k(n,e)},p(t,s){s&2048&&ae(e,t[11])},d(t){t&&E(n)}}}function Ie(l){var o;let n,e,t=(((o=l[0])==null?void 0:o.length)??0)+"",s,i,r;return{c(){n=q("span"),e=q("span"),s=M(t),i=M(" / "),r=M(l[12]),this.h()},l(c){n=B(c,"SPAN",{class:!0});var u=R(n);e=B(u,"SPAN",{class:!0});var h=R(e);s=Y(h,t),h.forEach(E),i=Y(u," / "),r=Y(u,l[12]),u.forEach(E),this.h()},h(){var c,u;w(e,"class","text-blue-700 svelte-ial24b"),z(e,"warn",l[12]-((c=l[0])==null?void 0:c.length)<=5),z(e,"error",l[12]===((u=l[0])==null?void 0:u.length)),w(n,"class","count svelte-ial24b")},m(c,u){Z(c,n,u),k(n,e),k(e,s),k(n,i),k(n,r)},p(c,u){var h,p,C;u&1&&t!==(t=(((h=c[0])==null?void 0:h.length)??0)+"")&&ae(s,t),u&4097&&z(e,"warn",c[12]-((p=c[0])==null?void 0:p.length)<=5),u&4097&&z(e,"error",c[12]===((C=c[0])==null?void 0:C.length)),u&4096&&ae(r,c[12])},d(c){c&&E(n)}}}function qe(l){let n,e,t=l[2]&&Be(l);const s=l[15].error,i=ze(s,l,l[14],Le);return{c(){t&&t.c(),n=O(),i&&i.c()},l(r){t&&t.l(r),n=W(r),i&&i.l(r)},m(r,o){t&&t.m(r,o),Z(r,n,o),i&&i.m(r,o),e=!0},p(r,o){r[2]?t?t.p(r,o):(t=Be(r),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null),i&&i.p&&(!e||o&16384)&&Fe(i,s,r,r[14],e?Je(s,r[14],o,at):Ge(r[14]),Le)},i(r){e||(N(i,r),e=!0)},o(r){j(i,r),e=!1},d(r){r&&E(n),t&&t.d(r),i&&i.d(r)}}}function Be(l){let n,e;return{c(){n=q("p"),e=M(l[2])},l(t){n=B(t,"P",{});var s=R(n);e=Y(s,l[2]),s.forEach(E)},m(t,s){Z(t,n,s),k(n,e)},p(t,s){s&4&&ae(e,t[2])},d(t){t&&E(n)}}}function rt(l){let n,e,t,s,i,r,o,c,u,h,p,C,A,b,P,S,v=l[11]&&He(l),m=l[12]&&!l[1]&&Ie(l),f=!l[3]&&qe(l);return{c(){n=q("div"),e=q("label"),t=M(l[7]),s=O(),v&&v.c(),i=O(),r=q("div"),o=q("textarea"),u=O(),m&&m.c(),h=O(),p=q("div"),f&&f.c(),this.h()},l(a){n=B(a,"DIV",{class:!0});var d=R(n);e=B(d,"LABEL",{for:!0,class:!0});var V=R(e);t=Y(V,l[7]),V.forEach(E),s=W(d),v&&v.l(d),i=W(d),r=B(d,"DIV",{class:!0});var H=R(r);o=B(H,"TEXTAREA",{class:!0,id:!0,placeholder:!0,rows:!0,spellcheck:!0,maxlength:!0}),R(o).forEach(E),u=W(H),m&&m.l(H),H.forEach(E),h=W(d),p=B(d,"DIV",{class:!0,"aria-live":!0});var I=R(p);f&&f.l(I),I.forEach(E),d.forEach(E),this.h()},h(){w(e,"for",l[9]),w(e,"class","svelte-ial24b"),z(e,"required",l[10]),z(e,"sr-only",l[8]),w(o,"class","min-h-fit w-full rounded-lg border-2 border-subtle bg-transparent px-3 py-2 font-mono text-sm focus-visible:border-information focus-visible:shadow-[0_0_0_4px_rgb(97,115,243,0.7)] focus-visible:outline-none enabled:hover:border-information svelte-ial24b"),w(o,"id",l[9]),o.disabled=l[1],w(o,"placeholder",l[4]),w(o,"rows",l[5]),w(o,"spellcheck",l[6]),w(o,"maxlength",c=l[12]>0?l[12]:void 0),z(o,"error",!l[3]),w(r,"class","relative"),w(p,"class","error-msg svelte-ial24b"),w(p,"aria-live",C=l[3]?"off":"assertive"),z(p,"min-width",l[12]),w(n,"class",A=be(l[13])+" svelte-ial24b")},m(a,d){Z(a,n,d),k(n,e),k(e,t),k(n,s),v&&v.m(n,null),k(n,i),k(n,r),k(r,o),ve(o,l[0]),k(r,u),m&&m.m(r,null),k(n,h),k(n,p),f&&f.m(p,null),b=!0,P||(S=[ne(o,"input",l[21]),ne(o,"input",l[16]),ne(o,"change",l[17]),ne(o,"focus",l[18]),ne(o,"blur",l[19]),ne(o,"keydown",Ye(l[20]))],P=!0)},p(a,[d]){(!b||d&128)&&ae(t,a[7]),(!b||d&512)&&w(e,"for",a[9]),(!b||d&1024)&&z(e,"required",a[10]),(!b||d&256)&&z(e,"sr-only",a[8]),a[11]?v?v.p(a,d):(v=He(a),v.c(),v.m(n,i)):v&&(v.d(1),v=null),(!b||d&512)&&w(o,"id",a[9]),(!b||d&2)&&(o.disabled=a[1]),(!b||d&16)&&w(o,"placeholder",a[4]),(!b||d&32)&&w(o,"rows",a[5]),(!b||d&64)&&w(o,"spellcheck",a[6]),(!b||d&4096&&c!==(c=a[12]>0?a[12]:void 0))&&w(o,"maxlength",c),d&1&&ve(o,a[0]),(!b||d&8)&&z(o,"error",!a[3]),a[12]&&!a[1]?m?m.p(a,d):(m=Ie(a),m.c(),m.m(r,null)):m&&(m.d(1),m=null),a[3]?f&&(Pe(),j(f,1,1,()=>{f=null}),je()):f?(f.p(a,d),d&8&&N(f,1)):(f=qe(a),f.c(),N(f,1),f.m(p,null)),(!b||d&8&&C!==(C=a[3]?"off":"assertive"))&&w(p,"aria-live",C),(!b||d&4096)&&z(p,"min-width",a[12]),(!b||d&8192&&A!==(A=be(a[13])+" svelte-ial24b"))&&w(n,"class",A)},i(a){b||(N(f),b=!0)},o(a){j(f),b=!1},d(a){a&&E(n),v&&v.d(),m&&m.d(),f&&f.d(),P=!1,Ze(S)}}}function ot(l,n,e){let{$$slots:t={},$$scope:s}=n,{disabled:i=!1}=n,{error:r=""}=n,{isValid:o=!0}=n,{placeholder:c=""}=n,{rows:u=5}=n,{spellcheck:h=null}=n,{value:p}=n,{label:C}=n,{labelHidden:A=!1}=n,{id:b}=n,{required:P=!1}=n,{description:S=""}=n,{maxLength:v=0}=n,{class:m="text-primary"}=n;function f(_){oe.call(this,l,_)}function a(_){oe.call(this,l,_)}function d(_){oe.call(this,l,_)}function V(_){oe.call(this,l,_)}function H(_){oe.call(this,l,_)}function I(){p=this.value,e(0,p)}return l.$$set=_=>{"disabled"in _&&e(1,i=_.disabled),"error"in _&&e(2,r=_.error),"isValid"in _&&e(3,o=_.isValid),"placeholder"in _&&e(4,c=_.placeholder),"rows"in _&&e(5,u=_.rows),"spellcheck"in _&&e(6,h=_.spellcheck),"value"in _&&e(0,p=_.value),"label"in _&&e(7,C=_.label),"labelHidden"in _&&e(8,A=_.labelHidden),"id"in _&&e(9,b=_.id),"required"in _&&e(10,P=_.required),"description"in _&&e(11,S=_.description),"maxLength"in _&&e(12,v=_.maxLength),"class"in _&&e(13,m=_.class),"$$scope"in _&&e(14,s=_.$$scope)},[p,i,r,o,c,u,h,C,A,b,P,S,v,m,s,t,f,a,d,V,H,I]}class dt extends pe{constructor(n){super(),ge(this,n,ot,rt,me,{disabled:1,error:2,isValid:3,placeholder:4,rows:5,spellcheck:6,value:0,label:7,labelHidden:8,id:9,required:10,description:11,maxLength:12,class:13})}}function Re(l){let n,e=D("data-encoder.include-cross-origin-credentials-warning")+"",t;return{c(){n=q("small"),t=M(e),this.h()},l(s){n=B(s,"SMALL",{"data-testid":!0});var i=R(n);t=Y(i,e),i.forEach(E),this.h()},h(){w(n,"data-testid","data-encoder-cross-origin-credentials")},m(s,i){Z(s,n,i),k(n,t)},p:de,d(s){s&&E(n)}}}function ft(l){let n,e,t,s,i,r,o,c,u,h,p,C;function A(a){l[4](a)}let b={id:"data-encoder-endpoint-input",rows:3,placeholder:D("data-encoder.endpoint-placeholder"),error:l[3],isValid:!l[3],label:D("data-encoder.endpoint-title"),description:D("data-encoder.endpoint-description")};l[0]!==void 0&&(b.value=l[0]),t=new dt({props:b}),le.push(()=>ie(t,"value",A));function P(a){l[5](a)}let S={label:D("data-encoder.pass-access-token-label"),id:"pass-access-token","data-testid":"data-encoder-pass-access-token"};l[1]!==void 0&&(S.checked=l[1]),r=new we({props:S}),le.push(()=>ie(r,"checked",P));function v(a){l[6](a)}let m={label:D("data-encoder.include-cross-origin-credentials-label"),id:"pass-access-credentials","data-testid":"data-encoder-include-credentials"};l[2]!==void 0&&(m.checked=l[2]),u=new we({props:m}),le.push(()=>ie(u,"checked",v));let f=l[2]&&Re();return{c(){n=q("div"),e=q("div"),G(t.$$.fragment),i=O(),G(r.$$.fragment),c=O(),G(u.$$.fragment),p=O(),f&&f.c(),this.h()},l(a){n=B(a,"DIV",{class:!0});var d=R(n);e=B(d,"DIV",{class:!0});var V=R(e);J(t.$$.fragment,V),i=W(V),J(r.$$.fragment,V),c=W(V),J(u.$$.fragment,V),p=W(V),f&&f.l(V),V.forEach(E),d.forEach(E),this.h()},h(){w(e,"class","flex flex-col gap-2"),w(n,"class","flex flex-col gap-4")},m(a,d){Z(a,n,d),k(n,e),K(t,e,null),k(e,i),K(r,e,null),k(e,c),K(u,e,null),k(e,p),f&&f.m(e,null),C=!0},p(a,[d]){const V={};d&8&&(V.error=a[3]),d&8&&(V.isValid=!a[3]),!s&&d&1&&(s=!0,V.value=a[0],se(()=>s=!1)),t.$set(V);const H={};!o&&d&2&&(o=!0,H.checked=a[1],se(()=>o=!1)),r.$set(H);const I={};!h&&d&4&&(h=!0,I.checked=a[2],se(()=>h=!1)),u.$set(I),a[2]?f?f.p(a,d):(f=Re(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(a){C||(N(t.$$.fragment,a),N(r.$$.fragment,a),N(u.$$.fragment,a),C=!0)},o(a){j(t.$$.fragment,a),j(r.$$.fragment,a),j(u.$$.fragment,a),C=!1},d(a){a&&E(n),Q(t),Q(r),Q(u),f&&f.d()}}}function ct(l,n,e){let{endpoint:t=""}=n,{passToken:s=!1}=n,{includeCreds:i=!1}=n,{error:r=""}=n;function o(h){t=h,e(0,t)}function c(h){s=h,e(1,s)}function u(h){i=h,e(2,i)}return l.$$set=h=>{"endpoint"in h&&e(0,t=h.endpoint),"passToken"in h&&e(1,s=h.passToken),"includeCreds"in h&&e(2,i=h.includeCreds),"error"in h&&e(3,r=h.error)},[t,s,i,r,o,c,u]}class ut extends pe{constructor(n){super(),ge(this,n,ct,ft,me,{endpoint:0,passToken:1,includeCreds:2,error:3})}}const _t=l=>l.replace(/\/+$/,"");function Ne(l){let n,e,t,s,i=D("common.codec-server")+"",r,o,c,u=D("data-encoder.codec-server-description-prefix")+"",h,p,C,A=D("data-encoder.codec-server-description-suffix",{level:l[5]})+"",b,P,S,v,m,f,a,d,V,H,I,_,F,T,ue,re,_e,he;p=new tt({props:{href:"https://docs.temporal.io/dataconversion#codec-server",newTab:!0,$$slots:{default:[mt]},$$scope:{ctx:l}}}),S=new nt({props:{"data-testid":"override-accordion",title:l[6]?D("data-encoder.browser-override-description",{level:l[5]}):D("data-encoder.no-browser-override-description",{level:l[5]}),$$slots:{default:[gt]},$$scope:{ctx:l}}});function We(g){l[14](g)}function Xe(g){l[15](g)}function Me(g){l[16](g)}let fe={error:l[4]};return l[0]!==void 0&&(fe.endpoint=l[0]),l[1]!==void 0&&(fe.passToken=l[1]),l[3]!==void 0&&(fe.includeCreds=l[3]),m=new ut({props:fe}),le.push(()=>ie(m,"endpoint",We)),le.push(()=>ie(m,"passToken",Xe)),le.push(()=>ie(m,"includeCreds",Me)),I=new Ae({props:{disabled:!!l[4],"data-testid":"confirm-data-encoder-button",type:"submit",$$slots:{default:[ht]},$$scope:{ctx:l}}}),I.$on("click",l[9]),F=new Ae({props:{variant:"ghost","data-testid":"cancel-data-encoder-button",$$slots:{default:[bt]},$$scope:{ctx:l}}}),F.$on("click",l[8]),{c(){n=q("aside"),e=q("div"),t=q("div"),s=q("h3"),r=M(i),o=O(),c=q("p"),h=M(u),G(p.$$.fragment),C=O(),b=M(A),P=O(),G(S.$$.fragment),v=O(),G(m.$$.fragment),V=O(),H=q("div"),G(I.$$.fragment),_=O(),G(F.$$.fragment),this.h()},l(g){n=B(g,"ASIDE",{class:!0});var L=R(n);e=B(L,"DIV",{class:!0});var X=R(e);t=B(X,"DIV",{class:!0});var te=R(t);s=B(te,"H3",{"data-testid":!0,class:!0});var $=R(s);r=Y($,i),$.forEach(E),te.forEach(E),o=W(X),c=B(X,"P",{class:!0});var U=R(c);h=Y(U,u),J(p.$$.fragment,U),C=W(U),b=Y(U,A),U.forEach(E),P=W(X),J(S.$$.fragment,X),v=W(X),J(m.$$.fragment,X),V=W(X),H=B(X,"DIV",{class:!0});var ee=R(H);J(I.$$.fragment,ee),_=W(ee),J(F.$$.fragment,ee),ee.forEach(E),X.forEach(E),L.forEach(E),this.h()},h(){w(s,"data-testid","data-encoder-title"),w(s,"class","text-xl"),w(t,"class","flex items-center justify-between space-x-2"),w(c,"class","text-sm"),w(H,"class","flex items-center gap-4"),w(e,"class","flex w-full flex-col gap-4 xl:w-1/2"),w(n,"class","surface-primary relative flex h-[540px] w-full flex-col gap-6 overflow-auto border-b border-subtle p-12")},m(g,L){Z(g,n,L),k(n,e),k(e,t),k(t,s),k(s,r),k(e,o),k(e,c),k(c,h),K(p,c,null),k(c,C),k(c,b),k(e,P),K(S,e,null),k(e,v),K(m,e,null),k(e,V),k(e,H),K(I,H,null),k(H,_),K(F,H,null),re=!0,_e||(he=Ke(T=et.call(null,n,l[17])),_e=!0)},p(g,L){const X={};L&8388608&&(X.$$scope={dirty:L,ctx:g}),p.$set(X),(!re||L&32)&&A!==(A=D("data-encoder.codec-server-description-suffix",{level:g[5]})+"")&&ae(b,A);const te={};L&96&&(te.title=g[6]?D("data-encoder.browser-override-description",{level:g[5]}):D("data-encoder.no-browser-override-description",{level:g[5]})),L&8388640&&(te.$$scope={dirty:L,ctx:g}),S.$set(te);const $={};L&16&&($.error=g[4]),!f&&L&1&&(f=!0,$.endpoint=g[0],se(()=>f=!1)),!a&&L&2&&(a=!0,$.passToken=g[1],se(()=>a=!1)),!d&&L&8&&(d=!0,$.includeCreds=g[3],se(()=>d=!1)),m.$set($);const U={};L&16&&(U.disabled=!!g[4]),L&8388608&&(U.$$scope={dirty:L,ctx:g}),I.$set(U);const ee={};L&8388608&&(ee.$$scope={dirty:L,ctx:g}),F.$set(ee),T&&Qe(T.update)&&L&4&&T.update.call(null,g[17])},i(g){re||(N(p.$$.fragment,g),N(S.$$.fragment,g),N(m.$$.fragment,g),N(I.$$.fragment,g),N(F.$$.fragment,g),g&&(ue||Ue(()=>{ue=ye(n,st,{y:-50,delay:0,duration:500}),ue.start()})),re=!0)},o(g){j(p.$$.fragment,g),j(S.$$.fragment,g),j(m.$$.fragment,g),j(I.$$.fragment,g),j(F.$$.fragment,g),re=!1},d(g){g&&E(n),Q(p),Q(S),Q(m),Q(I),Q(F),_e=!1,he()}}}function mt(l){let n=D("common.codec-server")+"",e;return{c(){e=M(n)},l(t){e=Y(t,n)},m(t,s){Z(t,e,s)},p:de,d(t){t&&E(e)}}}function pt(l){let n,e,t,s;return n=new Se({props:{id:"use-configuration-endpoint-radio","data-testid":"use-configuration-endpoint-input",value:!1,label:D("data-encoder.no-browser-override-description",{level:l[5]})}}),t=new Se({props:{id:"use-local-endpoint-radio","data-testid":"use-local-endpoint-input",value:!0,label:D("data-encoder.browser-override-description",{level:l[5]})}}),{c(){G(n.$$.fragment),e=O(),G(t.$$.fragment)},l(i){J(n.$$.fragment,i),e=W(i),J(t.$$.fragment,i)},m(i,r){K(n,i,r),Z(i,e,r),K(t,i,r),s=!0},p(i,r){const o={};r&32&&(o.label=D("data-encoder.no-browser-override-description",{level:i[5]})),n.$set(o);const c={};r&32&&(c.label=D("data-encoder.browser-override-description",{level:i[5]})),t.$set(c)},i(i){s||(N(n.$$.fragment,i),N(t.$$.fragment,i),s=!0)},o(i){j(n.$$.fragment,i),j(t.$$.fragment,i),s=!1},d(i){i&&E(e),Q(n,i),Q(t,i)}}}function gt(l){let n,e;return n=new it({props:{name:"override",group:l[7],$$slots:{default:[pt]},$$scope:{ctx:l}}}),{c(){G(n.$$.fragment)},l(t){J(n.$$.fragment,t)},m(t,s){K(n,t,s),e=!0},p(t,s){const i={};s&8388640&&(i.$$scope={dirty:s,ctx:t}),n.$set(i)},i(t){e||(N(n.$$.fragment,t),e=!0)},o(t){j(n.$$.fragment,t),e=!1},d(t){Q(n,t)}}}function ht(l){let n=D("common.apply")+"",e;return{c(){e=M(n)},l(t){e=Y(t,n)},m(t,s){Z(t,e,s)},p:de,d(t){t&&E(e)}}}function bt(l){let n=D("common.cancel")+"",e;return{c(){e=M(n)},l(t){e=Y(t,n)},m(t,s){Z(t,e,s)},p:de,d(t){t&&E(e)}}}function vt(l){let n,e,t=l[2]&&Ne(l);return{c(){t&&t.c(),n=ke()},l(s){t&&t.l(s),n=ke()},m(s,i){t&&t.m(s,i),Z(s,n,i),e=!0},p(s,[i]){s[2]?t?(t.p(s,i),i&4&&N(t,1)):(t=Ne(s),t.c(),N(t,1),t.m(n.parentNode,n)):t&&(Pe(),j(t,1,1,()=>{t=null}),je())},i(s){e||(N(t),e=!0)},o(s){j(t),e=!1},d(s){s&&E(n),t&&t.d(s)}}}const ce=Oe(!1);function kt(l,n,e){let t,s,i,r,o,c,u,h=de,p,C,A;x(l,Ve,T=>e(18,i=T)),x(l,lt,T=>e(13,r=T)),x(l,Ee,T=>e(19,c=T)),x(l,ce,T=>e(2,u=T)),x(l,Ce,T=>e(20,p=T)),x(l,Te,T=>e(21,C=T)),x(l,De,T=>e(22,A=T)),l.$$.on_destroy.push(()=>h());var b,P,S;let v=A??"",m=C??!1,f=p??!1,a=Oe(c);x(l,a,T=>e(6,o=T));const d=()=>{e(0,v=A),e(1,m=C),e(3,f=p),y(a,o=c,o),y(ce,u=!1,u)},V=()=>{e(4,t=""),y(De,A=_t(v),A),y(Te,C=m,C),y(Ce,p=f,p),y(ce,u=!1,u),y(Ee,c=o,c),r.url.pathname.endsWith("history")&&y(Ve,i=Date.now(),i)};function H(T){v=T,e(0,v)}function I(T){m=T,e(1,m)}function _(T){f=T,e(3,f)}const F=()=>y(ce,u=!1,u);return l.$$.update=()=>{l.$$.dirty&15360&&e(5,s=!(e(12,S=e(11,P=e(10,b=r.data)===null||b===void 0?void 0:b.settings)===null||P===void 0?void 0:P.runtimeEnvironment)===null||S===void 0)&&S.isCloud?D("common.namespaces"):D("common.cluster")),l.$$.dirty&3&&(m&&!$e(v)?e(4,t=D("data-encoder.access-token-https-error")):v&&!xe(v)?e(4,t=D("data-encoder.prefix-error")):e(4,t="")),l.$$.dirty&4&&(u||d())},e(4,t=""),[v,m,u,f,t,s,o,a,d,V,b,P,S,r,H,I,_,F]}class Nt extends pe{constructor(n){super(),ge(this,n,kt,vt,me,{})}}export{Nt as D,ce as v};
