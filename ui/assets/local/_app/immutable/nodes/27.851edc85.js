import{S as Q,b as P,a as C,ar as T,e as p,f as g,as as v,j as u,g as i,k as d,K as W,n as a,C as _,D as k,E as $,F as b,c as I,d as N}from"../chunks/index.9b814669.js";import{p as F}from"../chunks/stores.8b6881b9.js";import{P as S}from"../chunks/page-title.83a2b61d.js";import{W as h}from"../chunks/workers-list.4d83574b.js";import{g as j,a as B,b as D}from"../chunks/pollers-service.b75d48bf.js";import{p as E,c as H}from"../chunks/task-queue-compatibility.cf5696f8.js";function y(r){const t=E(r[4].pollers);r[5]=t}function q(r){r[7]=r[9][0],r[8]=r[9][1]}function K(r){const t=r.slice(),l=H(t[4].pollers);return t[6]=l,t}function R(r){return{c:a,l:a,m:a,p:a,i:a,o:a,d:a}}function U(r){y(r);let t,l,e,n;const o=[z,V],c=[];function m(s,f){return s[5]?0:1}function w(s,f){return f===0?K(s):s}return t=m(r),l=c[t]=o[t](w(r,t)),{c(){l.c(),e=p()},l(s){l.l(s),e=p()},m(s,f){c[t].m(s,f),g(s,e,f),n=!0},p(s,f){y(s),l.p(w(s,t),f)},i(s){n||(u(l),n=!0)},o(s){i(l),n=!1},d(s){c[t].d(s),s&&d(e)}}}function V(r){let t,l;return t=new h({props:{taskQueue:r[0],workers:r[4]}}),{c(){_(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,n){$(t,e,n),l=!0},p:a,i(e){l||(u(t.$$.fragment,e),l=!0)},o(e){i(t.$$.fragment,e),l=!1},d(e){b(t,e)}}}function z(r){let t,l,e={ctx:r,current:null,token:null,hasCatch:!0,pending:J,then:G,catch:A,value:9,blocks:[,,,]};return T(Promise.all([B({queue:r[0],namespace:r[1]}),D({namespace:r[1],buildIds:r[6],taskQueue:r[2]})]),e),{c(){t=p(),e.block.c()},l(n){t=p(),e.block.l(n)},m(n,o){g(n,t,o),e.block.m(n,e.anchor=o),e.mount=()=>t.parentNode,e.anchor=t,l=!0},p(n,o){r=n,v(e,r,o)},i(n){l||(u(e.block),l=!0)},o(n){for(let o=0;o<3;o+=1){const c=e.blocks[o];i(c)}l=!1},d(n){n&&d(t),e.block.d(n),e.token=null,e=null}}}function A(r){let t,l;return t=new h({props:{taskQueue:r[0],workers:r[4]}}),{c(){_(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,n){$(t,e,n),l=!0},p:a,i(e){l||(u(t.$$.fragment,e),l=!0)},o(e){i(t.$$.fragment,e),l=!1},d(e){b(t,e)}}}function G(r){q(r);let t,l;return t=new h({props:{taskQueue:r[0],workers:r[4],compatibility:r[7],reachability:r[8]}}),{c(){_(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,n){$(t,e,n),l=!0},p(e,n){q(e)},i(e){l||(u(t.$$.fragment,e),l=!0)},o(e){i(t.$$.fragment,e),l=!1},d(e){b(t,e)}}}function J(r){return{c:a,l:a,m:a,p:a,i:a,o:a,d:a}}function L(r){return{c:a,l:a,m:a,p:a,i:a,o:a,d:a}}function M(r){let t,l,e={ctx:r,current:null,token:null,hasCatch:!1,pending:L,then:U,catch:R,value:4,blocks:[,,,]};return T(j({queue:r[0],namespace:r[1]}),e),{c(){t=p(),e.block.c()},l(n){t=p(),e.block.l(n)},m(n,o){g(n,t,o),e.block.m(n,e.anchor=o),e.mount=()=>t.parentNode,e.anchor=t,l=!0},p(n,[o]){r=n,v(e,r,o)},i(n){l||(u(e.block),l=!0)},o(n){for(let o=0;o<3;o+=1){const c=e.blocks[o];i(c)}l=!1},d(n){n&&d(t),e.block.d(n),e.token=null,e=null}}}function O(r,t,l){let e;W(r,F,m=>l(3,e=m));let{queue:n,namespace:o,taskQueue:c}=e.params;return[n,o,c]}class X extends Q{constructor(t){super(),P(this,t,O,M,C,{})}}function Y(r){let t,l,e,n;return t=new S({props:{title:`Task Queue | ${r[1]}`,url:r[0].url.href}}),e=new X({}),{c(){_(t.$$.fragment),l=I(),_(e.$$.fragment)},l(o){k(t.$$.fragment,o),l=N(o),k(e.$$.fragment,o)},m(o,c){$(t,o,c),g(o,l,c),$(e,o,c),n=!0},p(o,[c]){const m={};c&1&&(m.url=o[0].url.href),t.$set(m)},i(o){n||(u(t.$$.fragment,o),u(e.$$.fragment,o),n=!0)},o(o){i(t.$$.fragment,o),i(e.$$.fragment,o),n=!1},d(o){b(t,o),o&&d(l),b(e,o)}}}function Z(r,t,l){let e;W(r,F,o=>l(0,e=o));const n=e.params.queue;return[e,n]}class le extends Q{constructor(t){super(),P(this,t,Z,Y,C,{})}}export{le as component};
